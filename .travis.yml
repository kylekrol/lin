matrix:
    include:
        - language: cpp
          sudo: false
          compiler: clang
          script:
              - mkdir build && cd build
              - cmake ../
              - cmake --build .
              - ctest --verbose .
        - sudo: false
          branches:
              only:
                  - master
          addons:
              apt:
                  packages:
                      - doxygen
          script:
              - cd docs && doxygen && cd ..
          deploy:
              provider: pages
              skip_cleanup: true
              local_dir: docs/html
              github_token: $GH_REPO_TOKEN
              on:
                  branch: master

